<div>
  <div>
    <!-- Header -->
    <div class="mb-8">
      <!-- Breadcrumb -->
      <div class="flex items-center gap-2 text-sm text-gray-500 mb-4 flex-wrap">
        <a href="#" class="text-emerald-600 hover:text-emerald-700 transition-colors">Dashboard</a>
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
        <a href="#" class="text-emerald-600 hover:text-emerald-700 transition-colors">Batches</a>
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
        <span class="text-gray-700">{{ batchData.batchId }}</span>
      </div>

      <!-- Header Content -->
      <div class="flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4">
        <div>
          <h1 class="text-3xl md:text-4xl lg:text-5xl font-semibold text-primary mb-2">
            Batch Details
          </h1>
          <div class="font-mono text-gray-500 text-base md:text-lg">
            {{ batchData.batchId }}
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex flex-wrap gap-3">
          <button
            (click)="onExport()"
            class="flex items-center gap-2 px-5 py-3 bg-white border-2 border-gray-200 rounded-xl font-semibold text-gray-700 hover:bg-emerald-50 hover:border-emerald-300 transition-all duration-300 shadow-sm hover:shadow-md"
          >
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
              />
            </svg>
            <span class="hidden sm:inline">Export</span>
          </button>
          <button
            (click)="onReprint()"
            class="flex items-center gap-2 px-5 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl font-semibold hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300 shadow-md"
          >
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
              />
            </svg>
            <span class="hidden sm:inline">Reprint Labels</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Content Layout -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- Main Content - Left Column -->
      <div class="lg:col-span-2 space-y-6">
        <!-- Dish Information -->
        <div class="bg-white rounded-2xl shadow-sm p-6 md:p-7 animate-slideUp-1">
          <h2 class="flex items-center gap-3 text-xl font-semibold text-gray-800 mb-5">
            <div
              class="w-10 h-10 bg-light-green text-emerald-600 rounded-xl flex items-center justify-center"
            >
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"
                />
              </svg>
            </div>
            Dish Information
          </h2>

          <div class="flex flex-col sm:flex-row gap-5 p-5 bg-light-green rounded-xl">
            <div
              class="w-24 h-24 sm:w-28 sm:h-28 bg-theme-gradient rounded-xl flex items-center justify-center text-5xl shadow-md flex-shrink-0 mx-auto sm:mx-0"
            >
              <i class="text-white" [class]="batchData.dish.icon"></i>
            </div>

            <div class="flex-1 text-center sm:text-left">
              <h3 class="text-xl md:text-2xl font-semibold text-gray-800 mb-2">
                {{ batchData.dish.name }}
              </h3>
              <p class="text-sm text-gray-600 mb-3">
                {{ batchData.dish.class }} • {{ batchData.dish.route }} • Version
                {{ batchData.dish.version }}
              </p>
              <div class="flex flex-wrap gap-2 justify-center sm:justify-start">
                <span
                  *ngFor="let tag of batchData.dish.tags"
                  class="px-3 py-1 bg-white rounded-lg text-xs font-semibold text-emerald-600 shadow-sm"
                >
                  {{ tag }}
                </span>
              </div>
            </div>
          </div>
        </div>

        <!-- Production Details -->
        <div class="bg-white rounded-2xl shadow-sm p-6 md:p-7 animate-slideUp-2">
          <h2 class="flex items-center gap-3 text-xl font-semibold text-gray-800 mb-5">
            <div
              class="w-10 h-10 bg-emerald-100 text-emerald-600 rounded-xl flex items-center justify-center"
            >
              <i class="fas fa-clipboard-list"></i>
            </div>
            Production Details
          </h2>

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
            <div class="flex flex-col gap-2">
              <div class="text-xs uppercase tracking-wide text-gray-500 font-semibold">
                Production Date
              </div>
              <div class="text-base font-semibold text-gray-800">
                {{ batchData.production.date }}
              </div>
            </div>
            <div class="flex flex-col gap-2">
              <div class="text-xs uppercase tracking-wide text-gray-500 font-semibold">
                Production Time
              </div>
              <div class="text-base font-semibold text-gray-800">
                {{ batchData.production.time }}
              </div>
            </div>
            <div class="flex flex-col gap-2">
              <div class="text-xs uppercase tracking-wide text-gray-500 font-semibold">
                Supervisor
              </div>
              <div class="text-base font-semibold text-gray-800">
                {{ batchData.production.supervisor }}
              </div>
            </div>
            <div class="flex flex-col gap-2">
              <div class="text-xs uppercase tracking-wide text-gray-500 font-semibold">
                Production Shift
              </div>
              <div class="text-base font-semibold text-gray-800">
                {{ batchData.production.shift }}
              </div>
            </div>
            <div class="flex flex-col gap-2">
              <div class="text-xs uppercase tracking-wide text-gray-500 font-semibold">
                Site Location
              </div>
              <div class="text-base font-semibold text-gray-800">
                {{ batchData.production.location }}
              </div>
            </div>
            <div class="flex flex-col gap-2">
              <div class="text-xs uppercase tracking-wide text-gray-500 font-semibold">
                Enterprise
              </div>
              <div class="text-base font-semibold text-gray-800">
                {{ batchData.production.enterprise }}
              </div>
            </div>
          </div>
        </div>

        <!-- Safety Confirmation -->
        <div class="bg-white rounded-2xl shadow-sm p-6 md:p-7 animate-slideUp-3">
          <h2 class="flex items-center gap-3 text-xl font-semibold text-gray-800 mb-5">
            <div
              class="w-10 h-10 bg-emerald-100 text-emerald-600 rounded-xl flex items-center justify-center"
            >
              <i class="fas fa-shield-alt"></i>
            </div>
            Safety & HACCP Confirmation
          </h2>

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
            <div *ngFor="let item of batchData.safety" class="flex flex-col gap-2">
              <div class="text-xs uppercase tracking-wide text-gray-500 font-semibold">
                {{ item.label }}
              </div>
              <div class="flex items-center gap-2 text-emerald-600 font-semibold">
                <i class="fas fa-check-circle"></i>
                {{ item.status }}
              </div>
            </div>
          </div>
        </div>

        <!-- Print History -->
        <div class="bg-white rounded-2xl shadow-sm p-6 md:p-7 animate-slideUp-4">
          <h2 class="flex items-center gap-3 text-xl font-semibold text-gray-800 mb-5">
            <div
              class="w-10 h-10 bg-emerald-100 text-emerald-600 rounded-xl flex items-center justify-center"
            >
              <i class="fas fa-print"></i>
            </div>
            Print Event History
          </h2>

          <div class="space-y-3">
            <div
              *ngFor="let event of batchData.printHistory"
              class="p-4 border-l-4 border-emerald-500 bg-light-green rounded-lg"
            >
              <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-2">
                <div class="flex items-center gap-2 font-semibold text-forest-green">
                  <i class="fas fa-print text-forest-green"></i>
                  {{ event.type }}
                </div>
                <span
                  class="px-3 py-1 bg-emerald-600 text-white rounded-lg text-xs font-semibold inline-block w-fit"
                >
                  {{ event.count }} labels
                </span>
              </div>
              <div class="flex flex-wrap gap-x-4 gap-y-1 text-xs text-gray-600">
                <span class="flex items-center gap-1">
                  <i class="fas fa-calendar"></i>
                  {{ event.date }}
                </span>
                <span class="flex items-center gap-1">
                  <i class="fas fa-user"></i>
                  {{ event.user }}
                </span>
                <span class="flex items-center gap-1">
                  <i class="fas fa-print"></i>
                  {{ event.printer }}
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Sidebar - Right Column -->
      <div class="space-y-6">
        <!-- Status Card -->
        <div
          class="bg-brand-gradient rounded-2xl p-6 text-white text-center shadow-lg animate-slideUp-2"
        >
          <div
            class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4"
          >
            <i class="fas fa-check-circle text-3xl"></i>
          </div>
          <div class="text-sm opacity-90 mb-2">Batch Status</div>
          <div class="text-3xl font-bold">{{ batchData.status }}</div>
        </div>

        <!-- Statistics -->
        <div class="bg-white rounded-2xl shadow-sm p-6 animate-slideUp-3">
          <h3 class="flex items-center gap-3 text-lg font-semibold text-gray-800 mb-4">
            <div
              class="w-9 h-9 bg-emerald-100 text-emerald-600 rounded-lg flex items-center justify-center"
            >
              <i class="fas fa-chart-bar"></i>
            </div>
            Statistics
          </h3>

          <div class="divide-y divide-gray-100">
            <div
              *ngFor="let stat of batchData.statistics"
              class="flex justify-between items-center py-4 first:pt-0 last:pb-0"
            >
              <div class="text-sm text-gray-600">{{ stat.label }}</div>
              <div class="text-2xl font-bold text-emerald-600">{{ stat.value }}</div>
            </div>
          </div>
        </div>

        <!-- QR Code -->
        <div class="bg-white rounded-2xl shadow-sm p-6 text-center animate-slideUp-4">
          <h3
            class="flex items-center justify-center gap-3 text-lg font-semibold text-gray-800 mb-5"
          >
            <div
              class="w-9 h-9 bg-emerald-100 text-emerald-600 rounded-lg flex items-center justify-center"
            >
              <i class="fas fa-qrcode"></i>
            </div>
            QR Code
          </h3>

          <div class="w-52 h-52 bg-gray-800 rounded-xl mx-auto mb-5 p-4">
            <div class="w-[180px] h-[180px] bg-white rounded-lg flex items-center justify-center">
              <i class="fas fa-qrcode text-[140px] text-gray-800"></i>
            </div>
          </div>

          <div class="space-y-2">
            <button
              (click)="onDownloadQR()"
              class="w-full flex items-center justify-center gap-2 px-4 py-3 bg-white border-2 border-gray-200 rounded-xl font-semibold text-gray-700 hover:bg-emerald-50 hover:border-emerald-300 transition-all duration-300"
            >
              <i class="fas fa-download"></i>
              Download QR
            </button>
            <button
              class="w-full flex items-center justify-center gap-2 px-4 py-3 bg-white border-2 border-gray-200 rounded-xl font-semibold text-gray-700 hover:bg-emerald-50 hover:border-emerald-300 transition-all duration-300"
            >
              <i class="fas fa-external-link-alt"></i>
              View Public Page
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
