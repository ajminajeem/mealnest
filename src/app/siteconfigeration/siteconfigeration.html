<div class="bg-white rounded-2xl p-8 shadow-sm mb-6">

  <!-- Header -->
  <div class="mb-7 pb-5 border-b-2 border-gray-100">
    <h2 class="flex items-center gap-3 text-2xl font-semibold text-emerald-800">
      <span class="w-10 h-10 rounded-xl bg-emerald-100 text-emerald-600 flex items-center justify-center">
        <i class="fas fa-building"></i>
      </span>
      Site Configuration
    </h2>
    <p class="text-sm text-gray-500 mt-1">
      Manage basic site information and operational settings
    </p>
  </div>

  <form [formGroup]="form" class="space-y-6">

    <!-- Site Name -->
    <div>
      <label class="block text-sm font-semibold text-gray-800 mb-2">
        Site Name
      </label>

      <input
        type="text"
        formControlName="siteName"
        class="w-full px-4 py-3 border-2 rounded-xl transition focus:outline-none"
        [ngClass]="{
          'border-red-400 ring-4 ring-red-100': f['siteName'].invalid && f['siteName'].touched,
          'border-emerald-500 ring-4 ring-emerald-100': f['siteName'].valid && f['siteName'].touched,
          'border-gray-200': !f['siteName'].touched
        }">

      <p *ngIf="f['siteName'].invalid && f['siteName'].touched"
         class="text-xs text-red-500 mt-1">
        Site name is required
      </p>
    </div>

    <!-- Site ID -->
    <div>
      <label class="block text-sm font-semibold text-gray-800 mb-2">
        Site ID
      </label>

      <input
        type="text"
        formControlName="siteId"
        [disabled]="true"
        class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl
               bg-gray-50 text-gray-500 cursor-not-allowed">
    </div>

    <!-- Timezone -->
    <div>
      <label class="block text-sm font-semibold text-gray-800 mb-2">
        Timezone
      </label>

      <select
        formControlName="timezone"
        class="w-full px-4 py-3 border-2 rounded-xl transition focus:outline-none"
        [ngClass]="{
          'border-red-400 ring-4 ring-red-100': f['timezone'].invalid && f['timezone'].touched,
          'border-emerald-500 ring-4 ring-emerald-100': f['timezone'].valid && f['timezone'].touched,
          'border-gray-200': !f['timezone'].touched
        }">
        <option *ngFor="let tz of timezones" [value]="tz">
          {{ tz }}
        </option>
      </select>
    </div>

    <!-- Date Format -->
    <div>
      <label class="block text-sm font-semibold text-gray-800 mb-2">
        Date Format
      </label>

      <select
        formControlName="dateFormat"
        class="w-full px-4 py-3 border-2 rounded-xl transition focus:outline-none"
        [ngClass]="{
          'border-red-400 ring-4 ring-red-100': f['dateFormat'].invalid && f['dateFormat'].touched,
          'border-emerald-500 ring-4 ring-emerald-100': f['dateFormat'].valid && f['dateFormat'].touched,
          'border-gray-200': !f['dateFormat'].touched
        }">
        <option *ngFor="let format of dateFormats" [value]="format">
          {{ format }}
        </option>
      </select>
    </div>

    <!-- Language -->
    <div>
      <label class="block text-sm font-semibold text-gray-800 mb-2">
        Default Language
      </label>

      <select
        formControlName="language"
        class="w-full px-4 py-3 border-2 rounded-xl transition focus:outline-none"
        [ngClass]="{
          'border-red-400 ring-4 ring-red-100': f['language'].invalid && f['language'].touched,
          'border-emerald-500 ring-4 ring-emerald-100': f['language'].valid && f['language'].touched,
          'border-gray-200': !f['language'].touched
        }">
        <option *ngFor="let lang of languages" [value]="lang">
          {{ lang }}
        </option>
      </select>
    </div>

    <!-- Buttons -->
    <div class="flex justify-end gap-3 pt-6 mt-6 border-t-2 border-gray-100">

      <button
        type="button"
        (click)="onCancel()"
        class="px-7 py-3 rounded-xl border-2 border-gray-200
               font-semibold text-gray-800
               hover:border-emerald-500 hover:bg-emerald-50 transition">
        Cancel
      </button>

      <button
        type="button"
        (click)="onSave()"
        [disabled]="isSaving"
        class="px-7 py-3 rounded-xl font-semibold text-white
               flex items-center gap-2 transition
               bg-gradient-to-br from-emerald-500 to-emerald-700
               shadow-md hover:shadow-lg hover:-translate-y-0.5
               [disabled]:opacity-60 [disabled]:cursor-not-allowed">

        <ng-container *ngIf="!isSaving; else saving">
          <i class="fas fa-save"></i>
          Save Changes
        </ng-container>

        <ng-template #saving>
          <svg class="animate-spin h-5 w-5 text-white" viewBox="0 0 24 24"></svg>
          Saving...
        </ng-template>

      </button>

    </div>

  </form>
</div>
